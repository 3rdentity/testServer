<!DOCTYPE html>

<html lang='en'>

  <head>

    <meta charset='utf-8'>
    <meta name='author' content='cactose + shasharala'>
    <meta name='description' content=''>
    <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic'>
    <link rel='icon' type='image/x-icon' href='http://grappl.io:888/html/grapplicon.ico'>
    <link rel='stylesheet' type='text/css' href='res/vendor/normalize.min.css'>
    <link rel='stylesheet' type='text/css' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>
    <link rel='stylesheet' type='text/css' href='res/css/main.css'>
    <title>Grappl - You are the cloud now</title>

  </head>

<body>

    <!-- Modals
    ===========================================================================
    Placed at the beginning of the document to avoid being affected by other
    components -->
    <div id='modalLicense' class='modal fade'>
      <div class='modal-dialog'>
        <div class='modal-content'>
          <div class='modal-header'>
            <button type='button' class='close' data-dismiss='modal'>&times;</button>
            <h4 class='modal-title'>License</h4>
          </div>
          <div class='modal-body'>
            <p>Do not use Grappl to transmit any copyrighted material that you do not have the right to transmit.
              <br/> Do not use Grappl to do anything illegal.</p>
            <p>You are responsible for what you use this service for.</p>
            <p>There is no uptime guarantee.</p>
            <!--TODO Include shasharala and vendor -->
          </div>
        </div>
      </div>
    </div>

    <!-- Header
    ======================================================================= -->
    <nav class='navbar'>
      <div class='navbar-header'>
        <!--TODO fix toggle not showing-->
        <button type='button' class='navbar-toggle' data-toggle='collapse' data-target='#theNavbar'>
          <span class='icon-bar'></span>
          <span class='icon-bar'></span>
          <span class='icon-bar'></span>
        </button>
        <a class='navbar-brand' href='/'>
          <img id='logo' src='http://grappl.io:888/html/logo.png' alt='grappl logo' />
          <span id='logoTxt'>You are the cloud now</span>
        </a>
      </div>
      <div class='collapse navbar-collapse' id='theNavbar'>
        <ul class='nav navbar-nav navbar-right'>
          <!--TODO fix cursor-->
          <li><a href='/'><span class='glyphicon glyphicon-home'></span> Home</a></li>
          <li><a href='/donate'><span class='glyphicon glyphicon-heart'></span> Donate</a></li>
          <li class='dropdown'>
            <a class='dropdown-toggle' data-toggle='dropdown'>
              <span class='glyphicon glyphicon-download-alt'></span> Download
              <span class='caret'></span>
            </a>
            <ul class='dropdown-menu'>
              <li><a href='http://grappl.io:888/html/GrapplLauncher.exe'>Windows</a></li>
              <li><a href='http://grappl.io:888/html/GrapplLauncher.jar'>Linux &amp; OSX</a></li>
            </ul>
          </li>
          <li class='dropdown'>
            <a class='dropdown-toggle' data-toggle='dropdown'>
              <span class='glyphicon glyphicon-user'></span> Dyn Username<!--NOTE Dynamic username here-->
              <span class='caret'></span>
            </a>
            <ul class='dropdown-menu'>
              <li><a href='/account'>Account</a></li>
              <li><a href='/logout'>Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>



  <!--
hello testificatebob - home - your account - donate - logout-->
  <div align='left'>
    <font color='ffffff'>
      <div style='background:#414141; width:100%; border-radius: 10px 10px 10px 10px;'>
        <font color='ffffff' size=7>Welcome, testificatebob!</h3>
        </font>
      </div>
      <p>You are not an alpha tester, so you cannot set a static port.
        <br><a style='color:#D1FFDE' href='/donate'>Become an alpha tester (donate).</a>
        <hr>
        <div style='background:#414141; width:100%; border-radius: 10px 10px 10px 10px;'>
          <font color='ffffff' size=7>Stats</font>
        </div>Connections routed: 0
        <br>Blocks routed in: 0
        <br>Blocks routed out: 0
        <hr>



    <!-- Footer
    ======================================================================= -->
    <footer>
      <div class='container'>
        <a id='license'>License</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href='mailto:matt@daexsys.com'>Contact: matt@daexsys.com</a>
      </div>
    </footer>



    <!-- JavaScript
    ===========================================================================
    Placed at the end of the document so the page loads faster -->
    <!-- jQuery CDN Fallback-->
    <script src='https://code.jquery.com/jquery-2.1.4.min.js'></script>
    <script>window.jQuery || document.write('<script src="/res/vendor/jquery-2.1.4.min.js"><\/script>')</script>

    <!-- BootstrapJS CDN Fallback -->
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
    <script>window.jQuery.fn.modal || document.write('<script src="/res/vendor/bootstrap-3.3.5-dist/js/bootstrap.min.js"><\/script>')</script>
    <script>
        (function($) {
            $(function() {
              // BootstrapCSS CDN Fallback
                if ($('html').css('font-family') !== 'sans-serif') {
                    $('head').append('<link rel="stylesheet" href="/res/vendor/bootstrap-3.3.5-dist/css/bootstrap.min.css">');
                }
            });
            // Event Listeners
            $('#btnRegister').click(function(){
              $('#modalRegister').modal('show');
            });
            $('#btnLogin').click(function(){
              $('#modalLogin').modal('show');
            });
            $('#license').click(function(){
              $('#modalLicense').modal('show');
            });
            $('#submitRegister').click(function(){
               $.ajax({
                  type: 'POST',
                  url: 'registerhandler',
                  data: $('#modalRegister form').serialize(),
                  success: function(msg){
                    $('#modalRegister p').html(msg)
                      .fadeIn()
                      .delay(3000)
                      .fadeOut();
                  },
                  error: function(){
                    $('#modalRegister p').html('Connection error. Please try again or <a href="mailto:matt@daexsys.com">contact us</a>.')
                      .fadeIn()
                      .delay(3000)
                      .fadeOut();
                  }
                });
            });
            $('#submitLogin').click(function(){
               $.ajax({
                  type: 'POST',
                  url: 'auth',
                  data: $('#modalLogin form').serialize(),
                  success: function(msg){
                    $('#modalLogin p').html(msg)
                      .fadeIn()
                      .delay(1000, function CBLogin() {
                        //TODO set document.cookie and redirect to /account
                      });
                  },
                  error: function(){
                    $('#modalLogin p').html('Connection error. Please try again or <a href="mailto:matt@daexsys.com">contact us</a>.')
                      .fadeIn()
                      .delay(3000)
                      .fadeOut();
                  }
                });
            });
        })(window.jQuery);
    </script>

  </body>

</html>
